{"ast":null,"code":"/*\nCopyright (c) 2018 Daybrush\n@name: @daybrush/utils\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/utils\n@version 1.13.0\n*/\n/**\n* @namespace\n* @name Consts\n*/\n/**\n* get string \"rgb\"\n* @memberof Color\n* @example\nimport {RGB} from \"@daybrush/utils\";\n\nconsole.log(RGB); // \"rgb\"\n*/\nvar RGB = \"rgb\";\n/**\n* get string \"rgba\"\n* @memberof Color\n* @example\nimport {RGBA} from \"@daybrush/utils\";\n\nconsole.log(RGBA); // \"rgba\"\n*/\nvar RGBA = \"rgba\";\n/**\n* get string \"hsl\"\n* @memberof Color\n* @example\nimport {HSL} from \"@daybrush/utils\";\n\nconsole.log(HSL); // \"hsl\"\n*/\nvar HSL = \"hsl\";\n/**\n* get string \"hsla\"\n* @memberof Color\n* @example\nimport {HSLA} from \"@daybrush/utils\";\n\nconsole.log(HSLA); // \"hsla\"\n*/\nvar HSLA = \"hsla\";\n/**\n* gets an array of color models.\n* @memberof Color\n* @example\nimport {COLOR_MODELS} from \"@daybrush/utils\";\n\nconsole.log(COLOR_MODELS); // [\"rgb\", \"rgba\", \"hsl\", \"hsla\"];\n*/\nvar COLOR_MODELS = [RGB, RGBA, HSL, HSLA];\n/**\n* get string \"function\"\n* @memberof Consts\n* @example\nimport {FUNCTION} from \"@daybrush/utils\";\n\nconsole.log(FUNCTION); // \"function\"\n*/\nvar FUNCTION = \"function\";\n/**\n* get string \"property\"\n* @memberof Consts\n* @example\nimport {PROPERTY} from \"@daybrush/utils\";\n\nconsole.log(PROPERTY); // \"property\"\n*/\nvar PROPERTY = \"property\";\n/**\n* get string \"array\"\n* @memberof Consts\n* @example\nimport {ARRAY} from \"@daybrush/utils\";\n\nconsole.log(ARRAY); // \"array\"\n*/\nvar ARRAY = \"array\";\n/**\n* get string \"object\"\n* @memberof Consts\n* @example\nimport {OBJECT} from \"@daybrush/utils\";\n\nconsole.log(OBJECT); // \"object\"\n*/\nvar OBJECT = \"object\";\n/**\n* get string \"string\"\n* @memberof Consts\n* @example\nimport {STRING} from \"@daybrush/utils\";\n\nconsole.log(STRING); // \"string\"\n*/\nvar STRING = \"string\";\n/**\n* get string \"number\"\n* @memberof Consts\n* @example\nimport {NUMBER} from \"@daybrush/utils\";\n\nconsole.log(NUMBER); // \"number\"\n*/\nvar NUMBER = \"number\";\n/**\n* get string \"undefined\"\n* @memberof Consts\n* @example\nimport {UNDEFINED} from \"@daybrush/utils\";\n\nconsole.log(UNDEFINED); // \"undefined\"\n*/\nvar UNDEFINED = \"undefined\";\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\nvar IS_WINDOW = typeof window !== UNDEFINED;\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @name document\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\nvar doc = typeof document !== UNDEFINED && document; // FIXME: this type maybe false\nvar prefixes = [\"webkit\", \"ms\", \"moz\", \"o\"];\n/**\n * @namespace CrossBrowser\n */\n/**\n* Get a CSS property with a vendor prefix that supports cross browser.\n* @function\n* @param {string} property - A CSS property\n* @return {string} CSS property with cross-browser vendor prefix\n* @memberof CrossBrowser\n* @example\nimport {getCrossBrowserProperty} from \"@daybrush/utils\";\n\nconsole.log(getCrossBrowserProperty(\"transform\")); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\nconsole.log(getCrossBrowserProperty(\"filter\")); // \"filter\", \"-webkit-filter\"\n*/\nvar getCrossBrowserProperty = /*#__PURE__*/function (property) {\n  if (!doc) {\n    return \"\";\n  }\n  var styles = (doc.body || doc.documentElement).style;\n  var length = prefixes.length;\n  if (typeof styles[property] !== UNDEFINED) {\n    return property;\n  }\n  for (var i = 0; i < length; ++i) {\n    var name = \"-\" + prefixes[i] + \"-\" + property;\n    if (typeof styles[name] !== UNDEFINED) {\n      return name;\n    }\n  }\n  return \"\";\n};\n/**\n* get string \"transfrom\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {TRANSFORM} from \"@daybrush/utils\";\n\nconsole.log(TRANSFORM); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\n*/\nvar TRANSFORM = /*#__PURE__*/getCrossBrowserProperty(\"transform\");\n/**\n* get string \"filter\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {FILTER} from \"@daybrush/utils\";\n\nconsole.log(FILTER); // \"filter\", \"-ms-filter\", \"-webkit-filter\"\n*/\nvar FILTER = /*#__PURE__*/getCrossBrowserProperty(\"filter\");\n/**\n* get string \"animation\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {ANIMATION} from \"@daybrush/utils\";\n\nconsole.log(ANIMATION); // \"animation\", \"-ms-animation\", \"-webkit-animation\"\n*/\nvar ANIMATION = /*#__PURE__*/getCrossBrowserProperty(\"animation\");\n/**\n* get string \"keyframes\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {KEYFRAMES} from \"@daybrush/utils\";\n\nconsole.log(KEYFRAMES); // \"keyframes\", \"-ms-keyframes\", \"-webkit-keyframes\"\n*/\nvar KEYFRAMES = /*#__PURE__*/ANIMATION.replace(\"animation\", \"keyframes\");\nvar OPEN_CLOSED_CHARACTERS = [{\n  open: \"(\",\n  close: \")\"\n}, {\n  open: \"\\\"\",\n  close: \"\\\"\"\n}, {\n  open: \"'\",\n  close: \"'\"\n}, {\n  open: \"\\\\\\\"\",\n  close: \"\\\\\\\"\"\n}, {\n  open: \"\\\\'\",\n  close: \"\\\\'\"\n}];\nvar TINY_NUM = 0.0000001;\nvar REVERSE_TINY_NUM = 1 / TINY_NUM;\nvar DEFAULT_UNIT_PRESETS = {\n  \"cm\": function (pos) {\n    return pos * 96 / 2.54;\n  },\n  \"mm\": function (pos) {\n    return pos * 96 / 254;\n  },\n  \"in\": function (pos) {\n    return pos * 96;\n  },\n  \"pt\": function (pos) {\n    return pos * 96 / 72;\n  },\n  \"pc\": function (pos) {\n    return pos * 96 / 6;\n  },\n  \"%\": function (pos, size) {\n    return pos * size / 100;\n  },\n  \"vw\": function (pos, size) {\n    if (size === void 0) {\n      size = window.innerWidth;\n    }\n    return pos / 100 * size;\n  },\n  \"vh\": function (pos, size) {\n    if (size === void 0) {\n      size = window.innerHeight;\n    }\n    return pos / 100 * size;\n  },\n  \"vmax\": function (pos, size) {\n    if (size === void 0) {\n      size = Math.max(window.innerWidth, window.innerHeight);\n    }\n    return pos / 100 * size;\n  },\n  \"vmin\": function (pos, size) {\n    if (size === void 0) {\n      size = Math.min(window.innerWidth, window.innerHeight);\n    }\n    return pos / 100 * size;\n  }\n};\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n  return r;\n}\n\n/**\n* @namespace\n* @name Utils\n*/\n/**\n * Returns the inner product of two numbers(`a1`, `a2`) by two criteria(`b1`, `b2`).\n * @memberof Utils\n * @param - The first number\n * @param - The second number\n * @param - The first number to base on the inner product\n * @param - The second number to base on the inner product\n * @return - Returns the inner product\nimport { dot } from \"@daybrush/utils\";\n\nconsole.log(dot(0, 15, 2, 3)); // 6\nconsole.log(dot(5, 15, 2, 3)); // 9\nconsole.log(dot(5, 15, 1, 1)); // 10\n */\nfunction dot(a1, a2, b1, b2) {\n  return (a1 * b2 + a2 * b1) / (b1 + b2);\n}\n/**\n* Check the type that the value is undefined.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {boolean} true if the type is correct, false otherwise\n* @example\nimport {isUndefined} from \"@daybrush/utils\";\n\nconsole.log(isUndefined(undefined)); // true\nconsole.log(isUndefined(\"\")); // false\nconsole.log(isUndefined(1)); // false\nconsole.log(isUndefined(null)); // false\n*/\nfunction isUndefined(value) {\n  return typeof value === UNDEFINED;\n}\n/**\n* Check the type that the value is object.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isObject} from \"@daybrush/utils\";\n\nconsole.log(isObject({})); // true\nconsole.log(isObject(undefined)); // false\nconsole.log(isObject(\"\")); // false\nconsole.log(isObject(null)); // false\n*/\nfunction isObject(value) {\n  return value && typeof value === OBJECT;\n}\n/**\n* Check the type that the value is isArray.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isArray} from \"@daybrush/utils\";\n\nconsole.log(isArray([])); // true\nconsole.log(isArray({})); // false\nconsole.log(isArray(undefined)); // false\nconsole.log(isArray(null)); // false\n*/\nfunction isArray(value) {\n  return Array.isArray(value);\n}\n/**\n* Check the type that the value is string.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isString} from \"@daybrush/utils\";\n\nconsole.log(isString(\"1234\")); // true\nconsole.log(isString(undefined)); // false\nconsole.log(isString(1)); // false\nconsole.log(isString(null)); // false\n*/\nfunction isString(value) {\n  return typeof value === STRING;\n}\nfunction isNumber(value) {\n  return typeof value === NUMBER;\n}\n/**\n* Check the type that the value is function.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isFunction} from \"@daybrush/utils\";\n\nconsole.log(isFunction(function a() {})); // true\nconsole.log(isFunction(() => {})); // true\nconsole.log(isFunction(\"1234\")); // false\nconsole.log(isFunction(1)); // false\nconsole.log(isFunction(null)); // false\n*/\nfunction isFunction(value) {\n  return typeof value === FUNCTION;\n}\nfunction isEqualSeparator(character, separator) {\n  var isCharacterSpace = character === \"\" || character == \" \";\n  var isSeparatorSpace = separator === \"\" || separator == \" \";\n  return isSeparatorSpace && isCharacterSpace || character === separator;\n}\nfunction findOpen(openCharacter, texts, index, length, openCloseCharacters) {\n  var isIgnore = findIgnore(openCharacter, texts, index);\n  if (!isIgnore) {\n    return findClose(openCharacter, texts, index + 1, length, openCloseCharacters);\n  }\n  return index;\n}\nfunction findIgnore(character, texts, index) {\n  if (!character.ignore) {\n    return null;\n  }\n  var otherText = texts.slice(Math.max(index - 3, 0), index + 3).join(\"\");\n  return new RegExp(character.ignore).exec(otherText);\n}\nfunction findClose(closeCharacter, texts, index, length, openCloseCharacters) {\n  var _loop_1 = function (i) {\n    var character = texts[i].trim();\n    if (character === closeCharacter.close && !findIgnore(closeCharacter, texts, i)) {\n      return {\n        value: i\n      };\n    }\n    var nextIndex = i;\n    // re open\n    var openCharacter = find(openCloseCharacters, function (_a) {\n      var open = _a.open;\n      return open === character;\n    });\n    if (openCharacter) {\n      nextIndex = findOpen(openCharacter, texts, i, length, openCloseCharacters);\n    }\n    if (nextIndex === -1) {\n      return out_i_1 = i, \"break\";\n    }\n    i = nextIndex;\n    out_i_1 = i;\n  };\n  var out_i_1;\n  for (var i = index; i < length; ++i) {\n    var state_1 = _loop_1(i);\n    i = out_i_1;\n    if (typeof state_1 === \"object\") return state_1.value;\n    if (state_1 === \"break\") break;\n  }\n  return -1;\n}\nfunction splitText(text, splitOptions) {\n  var _a = isString(splitOptions) ? {\n      separator: splitOptions\n    } : splitOptions,\n    _b = _a.separator,\n    separator = _b === void 0 ? \",\" : _b,\n    isSeparateFirst = _a.isSeparateFirst,\n    isSeparateOnlyOpenClose = _a.isSeparateOnlyOpenClose,\n    _c = _a.isSeparateOpenClose,\n    isSeparateOpenClose = _c === void 0 ? isSeparateOnlyOpenClose : _c,\n    _d = _a.openCloseCharacters,\n    openCloseCharacters = _d === void 0 ? OPEN_CLOSED_CHARACTERS : _d;\n  var openClosedText = openCloseCharacters.map(function (_a) {\n    var open = _a.open,\n      close = _a.close;\n    if (open === close) {\n      return open;\n    }\n    return open + \"|\" + close;\n  }).join(\"|\");\n  var regexText = \"(\\\\s*\" + separator + \"\\\\s*|\" + openClosedText + \"|\\\\s+)\";\n  var regex = new RegExp(regexText, \"g\");\n  var texts = text.split(regex).filter(function (chr) {\n    return chr && chr !== \"undefined\";\n  });\n  var length = texts.length;\n  var values = [];\n  var tempValues = [];\n  function resetTemp() {\n    if (tempValues.length) {\n      values.push(tempValues.join(\"\"));\n      tempValues = [];\n      return true;\n    }\n    return false;\n  }\n  var _loop_2 = function (i) {\n    var character = texts[i].trim();\n    var nextIndex = i;\n    var openCharacter = find(openCloseCharacters, function (_a) {\n      var open = _a.open;\n      return open === character;\n    });\n    var closeCharacter = find(openCloseCharacters, function (_a) {\n      var close = _a.close;\n      return close === character;\n    });\n    if (openCharacter) {\n      nextIndex = findOpen(openCharacter, texts, i, length, openCloseCharacters);\n      if (nextIndex !== -1 && isSeparateOpenClose) {\n        if (resetTemp() && isSeparateFirst) {\n          return out_i_2 = i, \"break\";\n        }\n        values.push(texts.slice(i, nextIndex + 1).join(\"\"));\n        i = nextIndex;\n        if (isSeparateFirst) {\n          return out_i_2 = i, \"break\";\n        }\n        return out_i_2 = i, \"continue\";\n      }\n    } else if (closeCharacter && !findIgnore(closeCharacter, texts, i)) {\n      var nextOpenCloseCharacters = __spreadArrays(openCloseCharacters);\n      nextOpenCloseCharacters.splice(openCloseCharacters.indexOf(closeCharacter), 1);\n      return {\n        value: splitText(text, {\n          separator: separator,\n          isSeparateFirst: isSeparateFirst,\n          isSeparateOnlyOpenClose: isSeparateOnlyOpenClose,\n          isSeparateOpenClose: isSeparateOpenClose,\n          openCloseCharacters: nextOpenCloseCharacters\n        })\n      };\n    } else if (isEqualSeparator(character, separator) && !isSeparateOnlyOpenClose) {\n      resetTemp();\n      if (isSeparateFirst) {\n        return out_i_2 = i, \"break\";\n      }\n      return out_i_2 = i, \"continue\";\n    }\n    if (nextIndex === -1) {\n      nextIndex = length - 1;\n    }\n    tempValues.push(texts.slice(i, nextIndex + 1).join(\"\"));\n    i = nextIndex;\n    out_i_2 = i;\n  };\n  var out_i_2;\n  for (var i = 0; i < length; ++i) {\n    var state_2 = _loop_2(i);\n    i = out_i_2;\n    if (typeof state_2 === \"object\") return state_2.value;\n    if (state_2 === \"break\") break;\n  }\n  if (tempValues.length) {\n    values.push(tempValues.join(\"\"));\n  }\n  return values;\n}\n/**\n* divide text by space.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {spliceSpace} from \"@daybrush/utils\";\n\nconsole.log(splitSpace(\"a b c d e f g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitSpace(\"'a,b' c 'd,e' f g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\nfunction splitSpace(text) {\n  // divide comma(space)\n  return splitText(text, \"\");\n}\n/**\n* divide text by comma.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {splitComma} from \"@daybrush/utils\";\n\nconsole.log(splitComma(\"a,b,c,d,e,f,g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitComma(\"'a,b',c,'d,e',f,g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\nfunction splitComma(text) {\n  // divide comma(,)\n  // \"[^\"]*\"|'[^']*'\n  return splitText(text, \",\");\n}\n/**\n* divide text by bracket \"(\", \")\".\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {object} divided texts\n* @example\nimport {splitBracket} from \"@daybrush/utils\";\n\nconsole.log(splitBracket(\"a(1, 2)\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"\"}\nconsole.log(splitBracket(\"a(1, 2)b\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"b\"}\n*/\nfunction splitBracket(text) {\n  var matches = /([^(]*)\\(([\\s\\S]*)\\)([\\s\\S]*)/g.exec(text);\n  if (!matches || matches.length < 4) {\n    return {};\n  } else {\n    return {\n      prefix: matches[1],\n      value: matches[2],\n      suffix: matches[3]\n    };\n  }\n}\n/**\n* divide text by number and unit.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {} divided texts\n* @example\nimport {splitUnit} from \"@daybrush/utils\";\n\nconsole.log(splitUnit(\"10px\"));\n// {prefix: \"\", value: 10, unit: \"px\"}\nconsole.log(splitUnit(\"-10px\"));\n// {prefix: \"\", value: -10, unit: \"px\"}\nconsole.log(splitUnit(\"a10%\"));\n// {prefix: \"a\", value: 10, unit: \"%\"}\n*/\nfunction splitUnit(text) {\n  var matches = /^([^\\d|e|\\-|\\+]*)((?:\\d|\\.|-|e-|e\\+)+)(\\S*)$/g.exec(text);\n  if (!matches) {\n    return {\n      prefix: \"\",\n      unit: \"\",\n      value: NaN\n    };\n  }\n  var prefix = matches[1];\n  var value = matches[2];\n  var unit = matches[3];\n  return {\n    prefix: prefix,\n    unit: unit,\n    value: parseFloat(value)\n  };\n}\n/**\n* transform strings to camel-case\n* @memberof Utils\n* @param {String} text - string\n* @return {String} camel-case string\n* @example\nimport {camelize} from \"@daybrush/utils\";\n\nconsole.log(camelize(\"transform-origin\")); // transformOrigin\nconsole.log(camelize(\"abcd_efg\")); // abcdEfg\nconsole.log(camelize(\"abcd efg\")); // abcdEfg\n*/\nfunction camelize(str) {\n  return str.replace(/[\\s-_]+([^\\s-_])/g, function (all, letter) {\n    return letter.toUpperCase();\n  });\n}\n/**\n* transform a camelized string into a lowercased string.\n* @memberof Utils\n* @param {string} text - a camel-cased string\n* @param {string} [separator=\"-\"] - a separator\n* @return {string}  a lowercased string\n* @example\nimport {decamelize} from \"@daybrush/utils\";\n\nconsole.log(decamelize(\"transformOrigin\")); // transform-origin\nconsole.log(decamelize(\"abcdEfg\", \"_\")); // abcd_efg\n*/\nfunction decamelize(str, separator) {\n  if (separator === void 0) {\n    separator = \"-\";\n  }\n  return str.replace(/([a-z])([A-Z])/g, function (all, letter, letter2) {\n    return \"\" + letter + separator + letter2.toLowerCase();\n  });\n}\n/**\n* transforms something in an array into an array.\n* @memberof Utils\n* @param - Array form\n* @return an array\n* @example\nimport {toArray} from \"@daybrush/utils\";\n\nconst arr1 = toArray(document.querySelectorAll(\".a\")); // Element[]\nconst arr2 = toArray(document.querySelectorAll<HTMLElement>(\".a\")); // HTMLElement[]\n*/\nfunction toArray(value) {\n  return [].slice.call(value);\n}\n/**\n* Date.now() method\n* @memberof CrossBrowser\n* @return {number} milliseconds\n* @example\nimport {now} from \"@daybrush/utils\";\n\nconsole.log(now()); // 12121324241(milliseconds)\n*/\nfunction now() {\n  return Date.now ? Date.now() : new Date().getTime();\n}\n/**\n* Returns the index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findIndex } from \"@daybrush/utils\";\n\nfindIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\nfunction findIndex(arr, callback, defaultIndex) {\n  if (defaultIndex === void 0) {\n    defaultIndex = -1;\n  }\n  var length = arr.length;\n  for (var i = 0; i < length; ++i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n  return defaultIndex;\n}\n/**\n* Returns the reverse direction index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findLastIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findLastIndex } from \"@daybrush/utils\";\n\nfindLastIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\nfunction findLastIndex(arr, callback, defaultIndex) {\n  if (defaultIndex === void 0) {\n    defaultIndex = -1;\n  }\n  var length = arr.length;\n  for (var i = length - 1; i >= 0; --i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n  return defaultIndex;\n}\n/**\n* Returns the value of the reverse direction element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findLast` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\nfunction findLast(arr, callback, defalutValue) {\n  var index = findLastIndex(arr, callback);\n  return index > -1 ? arr[index] : defalutValue;\n}\n/**\n* Returns the value of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `find` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\nfunction find(arr, callback, defalutValue) {\n  var index = findIndex(arr, callback);\n  return index > -1 ? arr[index] : defalutValue;\n}\n/**\n* window.requestAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {FrameRequestCallback} callback - The function to call when it's time to update your animation for the next repaint.\n* @return {number} id\n* @example\nimport {requestAnimationFrame} from \"@daybrush/utils\";\n\nrequestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n*/\nvar requestAnimationFrame = /*#__PURE__*/function () {\n  var firstTime = now();\n  var raf = IS_WINDOW && (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame);\n  return raf ? raf.bind(window) : function (callback) {\n    var currTime = now();\n    var id = setTimeout(function () {\n      callback(currTime - firstTime);\n    }, 1000 / 60);\n    return id;\n  };\n}();\n/**\n* window.cancelAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {number} handle - the id obtained through requestAnimationFrame method\n* @return {void}\n* @example\nimport { requestAnimationFrame, cancelAnimationFrame } from \"@daybrush/utils\";\n\nconst id = requestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n\ncancelAnimationFrame(id);\n*/\nvar cancelAnimationFrame = /*#__PURE__*/function () {\n  var caf = IS_WINDOW && (window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.msCancelAnimationFrame);\n  return caf ? caf.bind(window) : function (handle) {\n    clearTimeout(handle);\n  };\n}();\n/**\n* @function\n* @memberof Utils\n*/\nfunction getKeys(obj) {\n  return Object.keys(obj);\n}\n/**\n* @function\n* @memberof Utils\n*/\nfunction getValues(obj) {\n  var keys = getKeys(obj);\n  return keys.map(function (key) {\n    return obj[key];\n  });\n}\n/**\n* @function\n* @memberof Utils\n*/\nfunction getEntries(obj) {\n  var keys = getKeys(obj);\n  return keys.map(function (key) {\n    return [key, obj[key]];\n  });\n}\n/**\n* @function\n* @memberof Utils\n*/\nfunction sortOrders(keys, orders) {\n  if (orders === void 0) {\n    orders = [];\n  }\n  keys.sort(function (a, b) {\n    var index1 = orders.indexOf(a);\n    var index2 = orders.indexOf(b);\n    if (index2 === -1 && index1 === -1) {\n      return 0;\n    }\n    if (index1 === -1) {\n      return 1;\n    }\n    if (index2 === -1) {\n      return -1;\n    }\n    return index1 - index2;\n  });\n}\n/**\n* convert unit size to px size\n* @function\n* @memberof Utils\n*/\nfunction convertUnitSize(pos, size) {\n  var _a = splitUnit(pos),\n    value = _a.value,\n    unit = _a.unit;\n  if (isObject(size)) {\n    var sizeFunction = size[unit];\n    if (sizeFunction) {\n      if (isFunction(sizeFunction)) {\n        return sizeFunction(value);\n      } else if (DEFAULT_UNIT_PRESETS[unit]) {\n        return DEFAULT_UNIT_PRESETS[unit](value, sizeFunction);\n      }\n    }\n  } else if (unit === \"%\") {\n    return value * size / 100;\n  }\n  if (DEFAULT_UNIT_PRESETS[unit]) {\n    return DEFAULT_UNIT_PRESETS[unit](value);\n  }\n  return value;\n}\n/**\n* calculate between min, max\n* @function\n* @memberof Utils\n*/\nfunction between(value, min, max) {\n  return Math.max(min, Math.min(value, max));\n}\nfunction checkBoundSize(targetSize, compareSize, isMax, ratio) {\n  if (ratio === void 0) {\n    ratio = targetSize[0] / targetSize[1];\n  }\n  return [[throttle(compareSize[0], TINY_NUM), throttle(compareSize[0] / ratio, TINY_NUM)], [throttle(compareSize[1] * ratio, TINY_NUM), throttle(compareSize[1], TINY_NUM)]].filter(function (size) {\n    return size.every(function (value, i) {\n      var defaultSize = compareSize[i];\n      var throttledSize = throttle(defaultSize, TINY_NUM);\n      return isMax ? value <= defaultSize || value <= throttledSize : value >= defaultSize || value >= throttledSize;\n    });\n  })[0] || targetSize;\n}\n/**\n* calculate bound size\n* @function\n* @memberof Utils\n*/\nfunction calculateBoundSize(size, minSize, maxSize, keepRatio) {\n  if (!keepRatio) {\n    return size.map(function (value, i) {\n      return between(value, minSize[i], maxSize[i]);\n    });\n  }\n  var width = size[0],\n    height = size[1];\n  var ratio = keepRatio === true ? width / height : keepRatio;\n  // width : height = minWidth : minHeight;\n  var _a = checkBoundSize(size, minSize, false, ratio),\n    minWidth = _a[0],\n    minHeight = _a[1];\n  var _b = checkBoundSize(size, maxSize, true, ratio),\n    maxWidth = _b[0],\n    maxHeight = _b[1];\n  if (width < minWidth || height < minHeight) {\n    width = minWidth;\n    height = minHeight;\n  } else if (width > maxWidth || height > maxHeight) {\n    width = maxWidth;\n    height = maxHeight;\n  }\n  return [width, height];\n}\n/**\n* Add all the numbers.\n* @function\n* @memberof Utils\n*/\nfunction sum(nums) {\n  var length = nums.length;\n  var total = 0;\n  for (var i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n  return total;\n}\n/**\n* Average all numbers.\n* @function\n* @memberof Utils\n*/\nfunction average(nums) {\n  var length = nums.length;\n  var total = 0;\n  for (var i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n  return length ? total / length : 0;\n}\n/**\n* Get the angle of two points. (0 <= rad < 359)\n* @function\n* @memberof Utils\n*/\nfunction getRad(pos1, pos2) {\n  var distX = pos2[0] - pos1[0];\n  var distY = pos2[1] - pos1[1];\n  var rad = Math.atan2(distY, distX);\n  return rad >= 0 ? rad : rad + Math.PI * 2;\n}\n/**\n* Get the average point of all points.\n* @function\n* @memberof Utils\n*/\nfunction getCenterPoint(points) {\n  return [0, 1].map(function (i) {\n    return average(points.map(function (pos) {\n      return pos[i];\n    }));\n  });\n}\n/**\n* Gets the direction of the shape.\n* @function\n* @memberof Utils\n*/\nfunction getShapeDirection(points) {\n  var center = getCenterPoint(points);\n  var pos1Rad = getRad(center, points[0]);\n  var pos2Rad = getRad(center, points[1]);\n  return pos1Rad < pos2Rad && pos2Rad - pos1Rad < Math.PI || pos1Rad > pos2Rad && pos2Rad - pos1Rad < -Math.PI ? 1 : -1;\n}\n/**\n* Get the distance between two points.\n* @function\n* @memberof Utils\n*/\nfunction getDist(a, b) {\n  return Math.sqrt(Math.pow((b ? b[0] : 0) - a[0], 2) + Math.pow((b ? b[1] : 0) - a[1], 2));\n}\n/**\n* throttle number depending on the unit.\n* @function\n* @memberof Utils\n*/\nfunction throttle(num, unit) {\n  if (!unit) {\n    return num;\n  }\n  var reverseUnit = 1 / unit;\n  return Math.round(num / unit) / reverseUnit;\n}\n/**\n* throttle number array depending on the unit.\n* @function\n* @memberof Utils\n*/\nfunction throttleArray(nums, unit) {\n  nums.forEach(function (_, i) {\n    nums[i] = throttle(nums[i], unit);\n  });\n  return nums;\n}\n/**\n* @function\n* @memberof Utils\n*/\nfunction counter(num) {\n  var nums = [];\n  for (var i = 0; i < num; ++i) {\n    nums.push(i);\n  }\n  return nums;\n}\n/**\n* @function\n* @memberof Utils\n*/\nfunction replaceOnce(text, fromText, toText) {\n  var isOnce = false;\n  return text.replace(fromText, function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    if (isOnce) {\n      return args[0];\n    }\n    isOnce = true;\n    return isString(toText) ? toText : toText.apply(void 0, args);\n  });\n}\n/**\n* @function\n* @memberof Utils\n*/\nfunction flat(arr) {\n  return arr.reduce(function (prev, cur) {\n    return prev.concat(cur);\n  }, []);\n}\n/**\n* @function\n* @memberof Utils\n*/\nfunction deepFlat(arr) {\n  return arr.reduce(function (prev, cur) {\n    if (isArray(cur)) {\n      prev.push.apply(prev, deepFlat(cur));\n    } else {\n      prev.push(cur);\n    }\n    return prev;\n  }, []);\n}\n/**\n * @function\n * @memberof Utils\n */\nfunction pushSet(elements, element) {\n  if (elements.indexOf(element) === -1) {\n    elements.push(element);\n  }\n}\n\n/**\n* @namespace\n* @name Color\n*/\n/**\n* Remove the # from the hex color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} hex color\n* @example\nimport {cutHex} from \"@daybrush/utils\";\n\nconsole.log(cutHex(\"#000000\")) // \"000000\"\n*/\nfunction cutHex(hex) {\n  return hex.replace(\"#\", \"\");\n}\n/**\n* convert hex color to rgb color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} rgb color\n* @example\nimport {hexToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hexToRGBA(\"#00000005\"));\n// [0, 0, 0, 1]\nconsole.log(hexToRGBA(\"#201045\"));\n// [32, 16, 69, 1]\n*/\nfunction hexToRGBA(hex) {\n  var h = cutHex(hex);\n  var r = parseInt(h.substring(0, 2), 16);\n  var g = parseInt(h.substring(2, 4), 16);\n  var b = parseInt(h.substring(4, 6), 16);\n  var a = parseInt(h.substring(6, 8), 16) / 255;\n  if (isNaN(a)) {\n    a = 1;\n  }\n  return [r, g, b, a];\n}\n/**\n* convert 3(or 4)-digit hex color to 6(or 8)-digit hex color.\n* @memberof Color\n* @param {} hex - 3(or 4)-digit hex color\n* @return {} 6(or 8)-digit hex color\n* @example\nimport {toFullHex} from \"@daybrush/utils\";\n\nconsole.log(toFullHex(\"#123\")); // \"#112233\"\nconsole.log(toFullHex(\"#123a\")); // \"#112233aa\"\n*/\nfunction toFullHex(h) {\n  var r = h.charAt(1);\n  var g = h.charAt(2);\n  var b = h.charAt(3);\n  var a = h.charAt(4);\n  var arr = [\"#\", r, r, g, g, b, b, a, a];\n  return arr.join(\"\");\n}\n/**\n* convert hsl color to rgba color.\n* @memberof Color\n* @param {} hsl - hsl color(hue: 0 ~ 360, saturation: 0 ~ 1, lightness: 0 ~ 1, alpha: 0 ~ 1)\n* @return {} rgba color\n* @example\nimport {hslToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hslToRGBA([150, 0.5, 0.4]));\n// [51, 153, 102, 1]\n*/\nfunction hslToRGBA(hsl) {\n  var _a;\n  var h = hsl[0];\n  var s = hsl[1];\n  var l = hsl[2];\n  if (h < 0) {\n    h += Math.floor((Math.abs(h) + 360) / 360) * 360;\n  }\n  h %= 360;\n  var c = (1 - Math.abs(2 * l - 1)) * s;\n  var x = c * (1 - Math.abs(h / 60 % 2 - 1));\n  var m = l - c / 2;\n  var rgb;\n  if (h < 60) {\n    rgb = [c, x, 0];\n  } else if (h < 120) {\n    rgb = [x, c, 0];\n  } else if (h < 180) {\n    rgb = [0, c, x];\n  } else if (h < 240) {\n    rgb = [0, x, c];\n  } else if (h < 300) {\n    rgb = [x, 0, c];\n  } else if (h < 360) {\n    rgb = [c, 0, x];\n  } else {\n    rgb = [0, 0, 0];\n  }\n  return [Math.round((rgb[0] + m) * 255), Math.round((rgb[1] + m) * 255), Math.round((rgb[2] + m) * 255), (_a = hsl[3]) !== null && _a !== void 0 ? _a : 1];\n}\n/**\n* convert string to rgba color.\n* @memberof Color\n* @param {} - 3-hex(#000), 4-hex(#0000) 6-hex(#000000), 8-hex(#00000000) or RGB(A), or HSL(A)\n* @return {} rgba color\n* @example\nimport {stringToRGBA} from \"@daybrush/utils\";\n\nconsole.log(stringToRGBA(\"#000000\")); // [0, 0, 0, 1]\nconsole.log(stringToRGBA(\"rgb(100, 100, 100)\")); // [100, 100, 100, 1]\nconsole.log(stringToRGBA(\"hsl(150, 0.5, 0.4)\")); // [51, 153, 102, 1]\n*/\nfunction stringToRGBA(color) {\n  if (color.charAt(0) === \"#\") {\n    if (color.length === 4 || color.length === 5) {\n      return hexToRGBA(toFullHex(color));\n    } else {\n      return hexToRGBA(color);\n    }\n  } else if (color.indexOf(\"(\") !== -1) {\n    // in bracket.\n    var _a = splitBracket(color),\n      prefix = _a.prefix,\n      value = _a.value;\n    if (!prefix || !value) {\n      return undefined;\n    }\n    var arr = splitComma(value);\n    var colorArr = [0, 0, 0, 1];\n    var length = arr.length;\n    switch (prefix) {\n      case RGB:\n      case RGBA:\n        for (var i = 0; i < length; ++i) {\n          colorArr[i] = parseFloat(arr[i]);\n        }\n        return colorArr;\n      case HSL:\n      case HSLA:\n        for (var i = 0; i < length; ++i) {\n          if (arr[i].indexOf(\"%\") !== -1) {\n            colorArr[i] = parseFloat(arr[i]) / 100;\n          } else {\n            colorArr[i] = parseFloat(arr[i]);\n          }\n        }\n        // hsl, hsla to rgba\n        return hslToRGBA(colorArr);\n    }\n  }\n  return undefined;\n}\n\n/**\n * Returns all element descendants of node that\n * match selectors.\n */\n/**\n * Checks if the specified class value exists in the element's class attribute.\n * @memberof DOM\n * @param - A DOMString containing one or more selectors to match\n * @param - If multi is true, a DOMString containing one or more selectors to match against.\n * @example\nimport {$} from \"@daybrush/utils\";\n\nconsole.log($(\"div\")); // div element\nconsole.log($(\"div\", true)); // [div, div] elements\n*/\nfunction $(selectors, multi) {\n  if (!doc) {\n    return multi ? [] : null;\n  }\n  return multi ? doc.querySelectorAll(selectors) : doc.querySelector(selectors);\n}\n/**\n* Checks if the specified class value exists in the element's class attribute.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to search\n* @return {boolean} return false if the class is not found.\n* @example\nimport {hasClass} from \"@daybrush/utils\";\n\nconsole.log(hasClass(element, \"start\")); // true or false\n*/\nfunction hasClass(element, className) {\n  if (element.classList) {\n    return element.classList.contains(className);\n  }\n  return !!element.className.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n}\n/**\n* Add the specified class value. If these classe already exist in the element's class attribute they are ignored.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to add\n* @example\nimport {addClass} from \"@daybrush/utils\";\n\naddClass(element, \"start\");\n*/\nfunction addClass(element, className) {\n  if (element.classList) {\n    element.classList.add(className);\n  } else {\n    element.className += \" \" + className;\n  }\n}\n/**\n* Removes the specified class value.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to remove\n* @example\nimport {removeClass} from \"@daybrush/utils\";\n\nremoveClass(element, \"start\");\n*/\nfunction removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else {\n    var reg = new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\");\n    element.className = element.className.replace(reg, \" \");\n  }\n}\n/**\n* Gets the CSS properties from the element.\n* @memberof DOM\n* @param elements - elements\n* @param properites - the CSS properties\n* @return returns CSS properties and values.\n* @example\nimport {fromCSS} from \"@daybrush/utils\";\n\nconsole.log(fromCSS(element, [\"left\", \"opacity\", \"top\"])); // {\"left\": \"10px\", \"opacity\": 1, \"top\": \"10px\"}\n*/\nfunction fromCSS(elements, properties) {\n  if (!elements || !properties || !properties.length) {\n    return {};\n  }\n  var element;\n  if (elements instanceof Element) {\n    element = elements;\n  } else if (elements.length) {\n    element = elements[0];\n  } else {\n    return {};\n  }\n  var cssObject = {};\n  var styles = getWindow(element).getComputedStyle(element);\n  var length = properties.length;\n  for (var i = 0; i < length; ++i) {\n    cssObject[properties[i]] = styles[properties[i]];\n  }\n  return cssObject;\n}\n/**\n* Sets up a function that will be called whenever the specified event is delivered to the target\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The object which receives a notification (an object that implements the Event interface) when an event of the specified type occurs\n* @param - An options object that specifies characteristics about the event listener.\n* @example\nimport {addEvent} from \"@daybrush/utils\";\n\naddEvent(el, \"click\", e => {\n  console.log(e);\n});\n*/\nfunction addEvent(el, type, listener, options) {\n  el.addEventListener(type, listener, options);\n}\n/**\n* removes from the EventTarget an event listener previously registered with EventTarget.addEventListener()\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The EventListener function of the event handler to remove from the event target.\n* @param - An options object that specifies characteristics about the event listener.\n* @example\nimport {addEvent, removeEvent} from \"@daybrush/utils\";\nconst listener = e => {\n  console.log(e);\n};\naddEvent(el, \"click\", listener);\nremoveEvent(el, \"click\", listener);\n*/\nfunction removeEvent(el, type, listener, options) {\n  el.removeEventListener(type, listener, options);\n}\nfunction getDocument(el) {\n  return (el === null || el === void 0 ? void 0 : el.ownerDocument) || doc;\n}\nfunction getDocumentElement(el) {\n  return getDocument(el).documentElement;\n}\nfunction getDocumentBody(el) {\n  return getDocument(el).body;\n}\nfunction getWindow(el) {\n  var _a;\n  return ((_a = el === null || el === void 0 ? void 0 : el.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView) || window;\n}\nfunction isWindow(val) {\n  return val && \"postMessage\" in val && \"blur\" in val && \"self\" in val;\n}\nfunction isNode(el) {\n  return isObject(el) && el.nodeName && el.nodeType && \"ownerDocument\" in el;\n}\nexport { RGB, RGBA, HSL, HSLA, COLOR_MODELS, FUNCTION, PROPERTY, ARRAY, OBJECT, STRING, NUMBER, UNDEFINED, IS_WINDOW, doc as document, getCrossBrowserProperty, TRANSFORM, FILTER, ANIMATION, KEYFRAMES, OPEN_CLOSED_CHARACTERS, TINY_NUM, REVERSE_TINY_NUM, DEFAULT_UNIT_PRESETS, cutHex, hexToRGBA, toFullHex, hslToRGBA, stringToRGBA, dot, isUndefined, isObject, isArray, isString, isNumber, isFunction, splitText, splitSpace, splitComma, splitBracket, splitUnit, camelize, decamelize, toArray, now, findIndex, findLastIndex, findLast, find, requestAnimationFrame, cancelAnimationFrame, getKeys, getValues, getEntries, sortOrders, convertUnitSize, between, checkBoundSize, calculateBoundSize, sum, average, getRad, getCenterPoint, getShapeDirection, getDist, throttle, throttleArray, counter, replaceOnce, flat, deepFlat, pushSet, $, hasClass, addClass, removeClass, fromCSS, addEvent, removeEvent, getDocument, getDocumentElement, getDocumentBody, getWindow, isWindow, isNode };","map":{"version":3,"names":["RGB","RGBA","HSL","HSLA","COLOR_MODELS","FUNCTION","PROPERTY","ARRAY","OBJECT","STRING","NUMBER","UNDEFINED","IS_WINDOW","window","doc","document","prefixes","getCrossBrowserProperty","property","styles","body","documentElement","style","length","i","name","TRANSFORM","FILTER","ANIMATION","KEYFRAMES","replace","OPEN_CLOSED_CHARACTERS","open","close","TINY_NUM","REVERSE_TINY_NUM","DEFAULT_UNIT_PRESETS","cm","pos","mm","in","pt","pc","%","size","vw","innerWidth","vh","innerHeight","vmax","Math","max","vmin","min","dot","a1","a2","b1","b2","isUndefined","value","isObject","isArray","Array","isString","isNumber","isFunction","isEqualSeparator","character","separator","isCharacterSpace","isSeparatorSpace","findOpen","openCharacter","texts","index","openCloseCharacters","isIgnore","findIgnore","findClose","ignore","otherText","slice","join","RegExp","exec","closeCharacter","trim","nextIndex","find","_a","out_i_1","splitText","text","splitOptions","_b","isSeparateFirst","isSeparateOnlyOpenClose","_c","isSeparateOpenClose","_d","openClosedText","map","regexText","regex","split","filter","chr","values","tempValues","resetTemp","push","nextOpenCloseCharacters","__spreadArrays","splice","indexOf","out_i_2","splitSpace","splitComma","splitBracket","matches","prefix","suffix","splitUnit","unit","NaN","parseFloat","camelize","str","all","letter","toUpperCase","decamelize","letter2","toLowerCase","toArray","call","now","Date","getTime","findIndex","arr","callback","defaultIndex","findLastIndex","findLast","defalutValue","requestAnimationFrame","firstTime","raf","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","bind","currTime","id","setTimeout","cancelAnimationFrame","caf","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","handle","clearTimeout","getKeys","obj","Object","keys","getValues","key","getEntries","sortOrders","orders","sort","a","b","index1","index2","convertUnitSize","sizeFunction","between","checkBoundSize","targetSize","compareSize","isMax","ratio","throttle","every","defaultSize","throttledSize","calculateBoundSize","minSize","maxSize","keepRatio","width","height","minWidth","minHeight","maxWidth","maxHeight","sum","nums","total","average","getRad","pos1","pos2","distX","distY","rad","atan2","PI","getCenterPoint","points","getShapeDirection","center","pos1Rad","pos2Rad","getDist","sqrt","pow","num","reverseUnit","round","throttleArray","forEach","_","counter","replaceOnce","fromText","toText","isOnce","args","_i","arguments","apply","flat","reduce","prev","cur","concat","deepFlat","pushSet","elements","element","cutHex","hex","hexToRGBA","h","r","parseInt","substring","g","isNaN","toFullHex","charAt","hslToRGBA","hsl","s","l","floor","abs","c","x","m","rgb","stringToRGBA","color","undefined","colorArr","$","selectors","multi","querySelectorAll","querySelector","hasClass","className","classList","contains","match","addClass","add","removeClass","remove","reg","fromCSS","properties","Element","cssObject","getWindow","getComputedStyle","addEvent","el","type","listener","options","addEventListener","removeEvent","removeEventListener","getDocument","ownerDocument","getDocumentElement","getDocumentBody","defaultView","isWindow","val","isNode","nodeName","nodeType"],"sources":["/Users/toshi/Document/AI/engineeringAI/QAservice/frontend/node_modules/@daybrush/utils/src/consts.ts","/Users/toshi/Document/AI/engineeringAI/QAservice/frontend/node_modules/@daybrush/utils/src/utils.ts","/Users/toshi/Document/AI/engineeringAI/QAservice/frontend/node_modules/@daybrush/utils/src/color.ts","/Users/toshi/Document/AI/engineeringAI/QAservice/frontend/node_modules/@daybrush/utils/src/dom.ts"],"sourcesContent":["/**\n* @namespace\n* @name Consts\n*/\n\nimport { IObject, OpenCloseCharacter } from \"./types\";\n\n/**\n* get string \"rgb\"\n* @memberof Color\n* @example\nimport {RGB} from \"@daybrush/utils\";\n\nconsole.log(RGB); // \"rgb\"\n*/\nexport const RGB = \"rgb\";\n/**\n* get string \"rgba\"\n* @memberof Color\n* @example\nimport {RGBA} from \"@daybrush/utils\";\n\nconsole.log(RGBA); // \"rgba\"\n*/\nexport const RGBA = \"rgba\";\n/**\n* get string \"hsl\"\n* @memberof Color\n* @example\nimport {HSL} from \"@daybrush/utils\";\n\nconsole.log(HSL); // \"hsl\"\n*/\nexport const HSL = \"hsl\";\n/**\n* get string \"hsla\"\n* @memberof Color\n* @example\nimport {HSLA} from \"@daybrush/utils\";\n\nconsole.log(HSLA); // \"hsla\"\n*/\nexport const HSLA = \"hsla\";\n/**\n* gets an array of color models.\n* @memberof Color\n* @example\nimport {COLOR_MODELS} from \"@daybrush/utils\";\n\nconsole.log(COLOR_MODELS); // [\"rgb\", \"rgba\", \"hsl\", \"hsla\"];\n*/\nexport const COLOR_MODELS = [RGB, RGBA, HSL, HSLA];\n\n/**\n* get string \"function\"\n* @memberof Consts\n* @example\nimport {FUNCTION} from \"@daybrush/utils\";\n\nconsole.log(FUNCTION); // \"function\"\n*/\nexport const FUNCTION = \"function\";\n/**\n* get string \"property\"\n* @memberof Consts\n* @example\nimport {PROPERTY} from \"@daybrush/utils\";\n\nconsole.log(PROPERTY); // \"property\"\n*/\nexport const PROPERTY = \"property\";\n/**\n* get string \"array\"\n* @memberof Consts\n* @example\nimport {ARRAY} from \"@daybrush/utils\";\n\nconsole.log(ARRAY); // \"array\"\n*/\nexport const ARRAY = \"array\";\n/**\n* get string \"object\"\n* @memberof Consts\n* @example\nimport {OBJECT} from \"@daybrush/utils\";\n\nconsole.log(OBJECT); // \"object\"\n*/\nexport const OBJECT = \"object\";\n/**\n* get string \"string\"\n* @memberof Consts\n* @example\nimport {STRING} from \"@daybrush/utils\";\n\nconsole.log(STRING); // \"string\"\n*/\nexport const STRING = \"string\";\n/**\n* get string \"number\"\n* @memberof Consts\n* @example\nimport {NUMBER} from \"@daybrush/utils\";\n\nconsole.log(NUMBER); // \"number\"\n*/\nexport const NUMBER = \"number\";\n/**\n* get string \"undefined\"\n* @memberof Consts\n* @example\nimport {UNDEFINED} from \"@daybrush/utils\";\n\nconsole.log(UNDEFINED); // \"undefined\"\n*/\nexport const UNDEFINED = \"undefined\";\n\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\nexport const IS_WINDOW = typeof window !== UNDEFINED;\n\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @name document\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\nconst doc = (typeof document !== UNDEFINED && document) as Document; // FIXME: this type maybe false\n\nexport {doc as document};\n\nconst prefixes: string[] = [\"webkit\", \"ms\", \"moz\", \"o\"];\n\n/**\n * @namespace CrossBrowser\n */\n\n/**\n* Get a CSS property with a vendor prefix that supports cross browser.\n* @function\n* @param {string} property - A CSS property\n* @return {string} CSS property with cross-browser vendor prefix\n* @memberof CrossBrowser\n* @example\nimport {getCrossBrowserProperty} from \"@daybrush/utils\";\n\nconsole.log(getCrossBrowserProperty(\"transform\")); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\nconsole.log(getCrossBrowserProperty(\"filter\")); // \"filter\", \"-webkit-filter\"\n*/\nexport const getCrossBrowserProperty =  /*#__PURE__*/(property: string) => {\n  if (!doc) {\n    return \"\";\n  }\n  const styles = (doc.body || doc.documentElement).style as any;\n  const length = prefixes.length;\n\n  if (typeof styles[property] !== UNDEFINED) {\n    return property;\n  }\n  for (let i = 0; i < length; ++i) {\n    const name = `-${prefixes[i]}-${property}`;\n\n    if (typeof styles[name] !== UNDEFINED) {\n      return name;\n    }\n  }\n  return \"\";\n};\n\n/**\n* get string \"transfrom\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {TRANSFORM} from \"@daybrush/utils\";\n\nconsole.log(TRANSFORM); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\n*/\nexport const TRANSFORM = /*#__PURE__*/getCrossBrowserProperty(\"transform\");\n/**\n* get string \"filter\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {FILTER} from \"@daybrush/utils\";\n\nconsole.log(FILTER); // \"filter\", \"-ms-filter\", \"-webkit-filter\"\n*/\nexport const FILTER = /*#__PURE__*/getCrossBrowserProperty(\"filter\");\n/**\n* get string \"animation\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {ANIMATION} from \"@daybrush/utils\";\n\nconsole.log(ANIMATION); // \"animation\", \"-ms-animation\", \"-webkit-animation\"\n*/\nexport const ANIMATION = /*#__PURE__*/getCrossBrowserProperty(\"animation\");\n/**\n* get string \"keyframes\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {KEYFRAMES} from \"@daybrush/utils\";\n\nconsole.log(KEYFRAMES); // \"keyframes\", \"-ms-keyframes\", \"-webkit-keyframes\"\n*/\nexport const KEYFRAMES = /*#__PURE__*/ANIMATION.replace(\"animation\", \"keyframes\");\n\nexport const OPEN_CLOSED_CHARACTERS: OpenCloseCharacter[] = [\n  { open: \"(\", close: \")\" },\n  { open: `\"`, close: `\"`},\n  { open: `'`, close: `'`},\n  { open: `\\\\\"`, close: `\\\\\"`},\n  { open: `\\\\'`, close: `\\\\'`},\n];\nexport const TINY_NUM = 0.0000001;\nexport const REVERSE_TINY_NUM = 1 / TINY_NUM;\nexport const DEFAULT_UNIT_PRESETS: IObject<(pos: number, size?: number) => number> = {\n  \"cm\": pos => pos * 96 / 2.54,\n  \"mm\": pos => pos * 96 / 254,\n  \"in\": pos => pos * 96,\n  \"pt\": pos => pos * 96 / 72,\n  \"pc\": pos => pos * 96 / 6,\n  \"%\": (pos, size) => pos * size! / 100,\n  \"vw\": (pos, size = window.innerWidth) => pos / 100 * size,\n  \"vh\": (pos, size = window.innerHeight) => pos / 100 * size,\n  \"vmax\": (pos, size = Math.max(window.innerWidth, window.innerHeight)) => pos / 100 * size,\n  \"vmin\": (pos, size = Math.min(window.innerWidth, window.innerHeight)) => pos / 100 * size,\n};\n","import {\n  UNDEFINED, STRING,\n  OBJECT, FUNCTION,\n  IS_WINDOW, OPEN_CLOSED_CHARACTERS, NUMBER,\n  DEFAULT_UNIT_PRESETS,\n  TINY_NUM\n} from \"./consts\";\nimport {\n  FlattedElement,\n  IArrayFormat, IObject, OpenCloseCharacter,\n  SplitOptions,\n} from \"./types\";\n/**\n* @namespace\n* @name Utils\n*/\n\n/**\n * Returns the inner product of two numbers(`a1`, `a2`) by two criteria(`b1`, `b2`).\n * @memberof Utils\n * @param - The first number\n * @param - The second number\n * @param - The first number to base on the inner product\n * @param - The second number to base on the inner product\n * @return - Returns the inner product\nimport { dot } from \"@daybrush/utils\";\n\nconsole.log(dot(0, 15, 2, 3)); // 6\nconsole.log(dot(5, 15, 2, 3)); // 9\nconsole.log(dot(5, 15, 1, 1)); // 10\n */\nexport function dot(a1: number, a2: number, b1: number, b2: number) {\n  return (a1 * b2 + a2 * b1) / (b1 + b2);\n}\n/**\n* Check the type that the value is undefined.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {boolean} true if the type is correct, false otherwise\n* @example\nimport {isUndefined} from \"@daybrush/utils\";\n\nconsole.log(isUndefined(undefined)); // true\nconsole.log(isUndefined(\"\")); // false\nconsole.log(isUndefined(1)); // false\nconsole.log(isUndefined(null)); // false\n*/\nexport function isUndefined(value: any): value is undefined {\n  return (typeof value === UNDEFINED);\n}\n/**\n* Check the type that the value is object.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isObject} from \"@daybrush/utils\";\n\nconsole.log(isObject({})); // true\nconsole.log(isObject(undefined)); // false\nconsole.log(isObject(\"\")); // false\nconsole.log(isObject(null)); // false\n*/\nexport function isObject(value: any): value is IObject<any> {\n  return value && (typeof value === OBJECT);\n}\n/**\n* Check the type that the value is isArray.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isArray} from \"@daybrush/utils\";\n\nconsole.log(isArray([])); // true\nconsole.log(isArray({})); // false\nconsole.log(isArray(undefined)); // false\nconsole.log(isArray(null)); // false\n*/\nexport function isArray(value: any): value is any[] {\n  return Array.isArray(value);\n}\n/**\n* Check the type that the value is string.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isString} from \"@daybrush/utils\";\n\nconsole.log(isString(\"1234\")); // true\nconsole.log(isString(undefined)); // false\nconsole.log(isString(1)); // false\nconsole.log(isString(null)); // false\n*/\nexport function isString(value: any): value is string {\n  return typeof value === STRING;\n}\n\nexport function isNumber(value: any): value is number {\n  return typeof value === NUMBER;\n}\n\n/**\n* Check the type that the value is function.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isFunction} from \"@daybrush/utils\";\n\nconsole.log(isFunction(function a() {})); // true\nconsole.log(isFunction(() => {})); // true\nconsole.log(isFunction(\"1234\")); // false\nconsole.log(isFunction(1)); // false\nconsole.log(isFunction(null)); // false\n*/\nexport function isFunction(value: any): value is (...args: any[]) => any {\n  return typeof value === FUNCTION;\n}\nfunction isEqualSeparator(\n  character: string,\n  separator: string,\n) {\n  const isCharacterSpace = character === \"\" || character == \" \";\n  const isSeparatorSpace = separator === \"\" || separator == \" \";\n\n  return (isSeparatorSpace && isCharacterSpace) || character === separator;\n}\nfunction findOpen(\n  openCharacter: OpenCloseCharacter,\n  texts: string[],\n  index: number,\n  length: number,\n  openCloseCharacters: OpenCloseCharacter[],\n) {\n  const isIgnore = findIgnore(openCharacter, texts, index);\n\n  if (!isIgnore) {\n    return findClose(openCharacter, texts, index + 1, length, openCloseCharacters);\n  }\n  return index;\n}\nfunction findIgnore(\n  character: OpenCloseCharacter,\n  texts: string[],\n  index: number,\n) {\n  if (!character.ignore) {\n    return null;\n  }\n  const otherText = texts.slice(Math.max(index - 3, 0), index + 3).join(\"\");\n\n  return new RegExp(character.ignore).exec(otherText);\n\n}\nfunction findClose(\n  closeCharacter: OpenCloseCharacter,\n  texts: string[],\n  index: number,\n  length: number,\n  openCloseCharacters: OpenCloseCharacter[],\n) {\n  for (let i = index; i < length; ++i) {\n    const character = texts[i].trim();\n\n    if (character === closeCharacter.close && !findIgnore(closeCharacter, texts, i)) {\n      return i;\n    }\n    let nextIndex = i;\n    // re open\n    const openCharacter = find(openCloseCharacters, ({ open }) => open === character);\n\n    if (openCharacter) {\n      nextIndex = findOpen(openCharacter, texts, i, length, openCloseCharacters);\n    }\n    if (nextIndex === -1) {\n      break;\n    }\n    i = nextIndex;\n  }\n  return -1;\n}\n\nexport function splitText(\n  text: string,\n  splitOptions: string | SplitOptions,\n): string[] {\n  const {\n    separator = \",\",\n    isSeparateFirst,\n    isSeparateOnlyOpenClose,\n    isSeparateOpenClose = isSeparateOnlyOpenClose,\n    openCloseCharacters = OPEN_CLOSED_CHARACTERS,\n  } = isString(splitOptions) ? {\n    separator: splitOptions,\n  } as SplitOptions : splitOptions;\n  const openClosedText = openCloseCharacters.map(({ open, close }) => {\n    if (open === close) {\n      return open;\n    }\n    return `${open}|${close}`;\n  }).join(\"|\");\n  const regexText = `(\\\\s*${separator}\\\\s*|${openClosedText}|\\\\s+)`;\n  const regex = new RegExp(regexText, \"g\");\n  const texts = text.split(regex).filter(chr => {\n    return chr && chr !== \"undefined\";\n  });\n  const length = texts.length;\n  const values: string[] = [];\n  let tempValues: string[] = [];\n\n  function resetTemp() {\n    if (tempValues.length) {\n      values.push(tempValues.join(\"\"));\n      tempValues = [];\n\n      return true;\n    }\n    return false;\n  }\n  for (let i = 0; i < length; ++i) {\n    const character = texts[i].trim();\n    let nextIndex = i;\n\n\n    const openCharacter = find(openCloseCharacters, ({ open }) => open === character);\n    const closeCharacter = find(openCloseCharacters, ({ close }) => close === character);\n\n    if (openCharacter) {\n      nextIndex = findOpen(openCharacter, texts, i, length, openCloseCharacters);\n\n      if (nextIndex !== -1 && isSeparateOpenClose) {\n        if (resetTemp() && isSeparateFirst) {\n          break;\n        }\n        values.push(texts.slice(i, nextIndex + 1).join(\"\"));\n        i = nextIndex;\n\n        if (isSeparateFirst) {\n          break;\n        }\n        continue;\n      }\n    } else if (closeCharacter && !findIgnore(closeCharacter, texts, i)) {\n      const nextOpenCloseCharacters = [...openCloseCharacters];\n\n      nextOpenCloseCharacters.splice(openCloseCharacters.indexOf(closeCharacter), 1);\n\n      return splitText(\n        text,\n        {\n          separator,\n          isSeparateFirst,\n          isSeparateOnlyOpenClose,\n          isSeparateOpenClose,\n          openCloseCharacters: nextOpenCloseCharacters,\n        });\n    } else if (isEqualSeparator(character, separator) && !isSeparateOnlyOpenClose) {\n      resetTemp();\n      if (isSeparateFirst) {\n        break;\n      }\n      continue;\n    }\n\n    if (nextIndex === -1) {\n      nextIndex = length - 1;\n    }\n    tempValues.push(texts.slice(i, nextIndex + 1).join(\"\"));\n    i = nextIndex;\n  }\n  if (tempValues.length) {\n    values.push(tempValues.join(\"\"));\n  }\n  return values;\n}\n\n/**\n* divide text by space.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {spliceSpace} from \"@daybrush/utils\";\n\nconsole.log(splitSpace(\"a b c d e f g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitSpace(\"'a,b' c 'd,e' f g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\nexport function splitSpace(text: string) {\n  // divide comma(space)\n  return splitText(text, \"\");\n}\n\n/**\n* divide text by comma.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {splitComma} from \"@daybrush/utils\";\n\nconsole.log(splitComma(\"a,b,c,d,e,f,g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitComma(\"'a,b',c,'d,e',f,g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\nexport function splitComma(text: string): string[] {\n  // divide comma(,)\n  // \"[^\"]*\"|'[^']*'\n  return splitText(text, \",\");\n}\n/**\n* divide text by bracket \"(\", \")\".\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {object} divided texts\n* @example\nimport {splitBracket} from \"@daybrush/utils\";\n\nconsole.log(splitBracket(\"a(1, 2)\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"\"}\nconsole.log(splitBracket(\"a(1, 2)b\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"b\"}\n*/\nexport function splitBracket(text: string) {\n  const matches = (/([^(]*)\\(([\\s\\S]*)\\)([\\s\\S]*)/g).exec(text);\n\n  if (!matches || matches.length < 4) {\n    return {};\n  } else {\n    return { prefix: matches[1], value: matches[2], suffix: matches[3] };\n  }\n}\n/**\n* divide text by number and unit.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {} divided texts\n* @example\nimport {splitUnit} from \"@daybrush/utils\";\n\nconsole.log(splitUnit(\"10px\"));\n// {prefix: \"\", value: 10, unit: \"px\"}\nconsole.log(splitUnit(\"-10px\"));\n// {prefix: \"\", value: -10, unit: \"px\"}\nconsole.log(splitUnit(\"a10%\"));\n// {prefix: \"a\", value: 10, unit: \"%\"}\n*/\nexport function splitUnit(text: string): { prefix: string, unit: string, value: number } {\n  const matches = /^([^\\d|e|\\-|\\+]*)((?:\\d|\\.|-|e-|e\\+)+)(\\S*)$/g.exec(text);\n\n  if (!matches) {\n    return { prefix: \"\", unit: \"\", value: NaN };\n  }\n  const prefix = matches[1];\n  const value = matches[2];\n  const unit = matches[3];\n\n  return { prefix, unit, value: parseFloat(value) };\n}\n\n/**\n* transform strings to camel-case\n* @memberof Utils\n* @param {String} text - string\n* @return {String} camel-case string\n* @example\nimport {camelize} from \"@daybrush/utils\";\n\nconsole.log(camelize(\"transform-origin\")); // transformOrigin\nconsole.log(camelize(\"abcd_efg\")); // abcdEfg\nconsole.log(camelize(\"abcd efg\")); // abcdEfg\n*/\nexport function camelize(str: string) {\n  return str.replace(/[\\s-_]+([^\\s-_])/g, (all, letter) => letter.toUpperCase());\n}\n/**\n* transform a camelized string into a lowercased string.\n* @memberof Utils\n* @param {string} text - a camel-cased string\n* @param {string} [separator=\"-\"] - a separator\n* @return {string}  a lowercased string\n* @example\nimport {decamelize} from \"@daybrush/utils\";\n\nconsole.log(decamelize(\"transformOrigin\")); // transform-origin\nconsole.log(decamelize(\"abcdEfg\", \"_\")); // abcd_efg\n*/\nexport function decamelize(str: string, separator: string = \"-\") {\n  return str.replace(/([a-z])([A-Z])/g, (all, letter, letter2) => `${letter}${separator}${letter2.toLowerCase()}`);\n}\n\n/**\n* transforms something in an array into an array.\n* @memberof Utils\n* @param - Array form\n* @return an array\n* @example\nimport {toArray} from \"@daybrush/utils\";\n\nconst arr1 = toArray(document.querySelectorAll(\".a\")); // Element[]\nconst arr2 = toArray(document.querySelectorAll<HTMLElement>(\".a\")); // HTMLElement[]\n*/\nexport function toArray<T>(value: IArrayFormat<T>): T[] {\n  return [].slice.call(value);\n}\n\n/**\n* Date.now() method\n* @memberof CrossBrowser\n* @return {number} milliseconds\n* @example\nimport {now} from \"@daybrush/utils\";\n\nconsole.log(now()); // 12121324241(milliseconds)\n*/\nexport function now() {\n  return Date.now ? Date.now() : new Date().getTime();\n}\n\n/**\n* Returns the index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findIndex } from \"@daybrush/utils\";\n\nfindIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\nexport function findIndex<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defaultIndex: number = -1,\n): number {\n  const length = arr.length;\n\n  for (let i = 0; i < length; ++i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n  return defaultIndex;\n}\n\n/**\n* Returns the reverse direction index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findLastIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findLastIndex } from \"@daybrush/utils\";\n\nfindLastIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\nexport function findLastIndex<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defaultIndex: number = -1,\n): number {\n  const length = arr.length;\n\n  for (let i = length - 1; i >= 0; --i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n  return defaultIndex;\n}\n\n/**\n* Returns the value of the reverse direction element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findLast` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\nexport function findLast<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defalutValue?: T,\n): T | undefined {\n  const index = findLastIndex(arr, callback);\n\n  return index > - 1 ? arr[index] : defalutValue;\n}\n/**\n* Returns the value of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `find` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\nexport function find<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defalutValue?: T,\n): T | undefined {\n  const index = findIndex(arr, callback);\n\n  return index > - 1 ? arr[index] : defalutValue;\n}\n\n/**\n* window.requestAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {FrameRequestCallback} callback - The function to call when it's time to update your animation for the next repaint.\n* @return {number} id\n* @example\nimport {requestAnimationFrame} from \"@daybrush/utils\";\n\nrequestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n*/\nexport const requestAnimationFrame = /*#__PURE__*/(() => {\n  const firstTime = now();\n\n  const raf = IS_WINDOW\n    && (window.requestAnimationFrame || (window as any).webkitRequestAnimationFrame\n      || (window as any).mozRequestAnimationFrame || (window as any).msRequestAnimationFrame);\n\n  return raf ? (raf.bind(window) as (callback: FrameRequestCallback) => number) : ((callback: FrameRequestCallback) => {\n    const currTime = now();\n    const id = setTimeout(() => {\n      callback(currTime - firstTime);\n    }, 1000 / 60);\n\n    return id as any as number;\n  });\n})();\n\n/**\n* window.cancelAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {number} handle - the id obtained through requestAnimationFrame method\n* @return {void}\n* @example\nimport { requestAnimationFrame, cancelAnimationFrame } from \"@daybrush/utils\";\n\nconst id = requestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n\ncancelAnimationFrame(id);\n*/\nexport const cancelAnimationFrame = /*#__PURE__*/(() => {\n  const caf = IS_WINDOW\n    && (window.cancelAnimationFrame || (window as any).webkitCancelAnimationFrame\n      || (window as any).mozCancelAnimationFrame || (window as any).msCancelAnimationFrame);\n\n  return caf\n    ? caf.bind(window) as (handle: number) => void\n    : ((handle: number) => { clearTimeout(handle); });\n})();\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function getKeys(obj: IObject<any>): string[] {\n  return Object.keys(obj);\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function getValues(obj: IObject<any>): any[] {\n  const keys = getKeys(obj);\n\n  return keys.map(key => obj[key]);\n}\n/**\n* @function\n* @memberof Utils\n*/\nexport function getEntries(obj: IObject<any>): [string, any][] {\n  const keys = getKeys(obj);\n\n  return keys.map(key => [key, obj[key]]);\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function sortOrders(keys: Array<string | number>, orders: Array<string | number> = []) {\n  keys.sort((a, b) => {\n    const index1 = orders.indexOf(a);\n    const index2 = orders.indexOf(b);\n\n    if (index2 === -1 && index1 === -1) {\n      return 0;\n    }\n    if (index1 === -1) {\n      return 1;\n    }\n    if (index2 === -1) {\n      return -1;\n    }\n    return index1 - index2;\n  });\n}\n\n/**\n* convert unit size to px size\n* @function\n* @memberof Utils\n*/\nexport function convertUnitSize(pos: string, size: number | IObject<((pos: number) => number) | number>) {\n  const { value, unit } = splitUnit(pos);\n\n  if (isObject(size)) {\n    const sizeFunction = size[unit];\n    if (sizeFunction) {\n      if (isFunction(sizeFunction)) {\n        return sizeFunction(value);\n      } else if (DEFAULT_UNIT_PRESETS[unit]) {\n        return DEFAULT_UNIT_PRESETS[unit](value, sizeFunction);\n      }\n    }\n  } else if (unit === \"%\") {\n    return value * size / 100;\n  }\n  if (DEFAULT_UNIT_PRESETS[unit]) {\n    return DEFAULT_UNIT_PRESETS[unit](value);\n  }\n  return value;\n}\n\n/**\n* calculate between min, max\n* @function\n* @memberof Utils\n*/\nexport function between(value: number, min: number, max: number): number {\n  return Math.max(min, Math.min(value, max));\n}\n\nexport function checkBoundSize(targetSize: number[], compareSize: number[], isMax: boolean, ratio = targetSize[0] / targetSize[1]) {\n  return [\n    [throttle(compareSize[0], TINY_NUM), throttle(compareSize[0] / ratio, TINY_NUM)],\n    [throttle(compareSize[1] * ratio, TINY_NUM), throttle(compareSize[1], TINY_NUM)],\n  ].filter(size => size.every((value, i) => {\n    const defaultSize = compareSize[i];\n    const throttledSize = throttle(defaultSize, TINY_NUM);\n\n    return isMax ? value <= defaultSize || value <= throttledSize : value >= defaultSize || value >= throttledSize;\n  }))[0] || targetSize;\n}\n\n/**\n* calculate bound size\n* @function\n* @memberof Utils\n*/\nexport function calculateBoundSize(\n  size: number[],\n  minSize: number[],\n  maxSize: number[],\n  keepRatio?: number | boolean,\n): number[] {\n  if (!keepRatio) {\n    return size.map((value, i) => between(value, minSize[i], maxSize[i]));\n  }\n  let [width, height] = size;\n\n  const ratio = keepRatio === true ? width / height : keepRatio;\n  // width : height = minWidth : minHeight;\n  const [minWidth, minHeight] = checkBoundSize(size, minSize, false, ratio);\n  const [maxWidth, maxHeight] = checkBoundSize(size, maxSize, true, ratio);\n\n  if (width < minWidth || height < minHeight) {\n    width = minWidth;\n    height = minHeight;\n  } else if (width > maxWidth || height > maxHeight) {\n    width = maxWidth;\n    height = maxHeight;\n  }\n  return [width, height];\n}\n\n\n/**\n* Add all the numbers.\n* @function\n* @memberof Utils\n*/\nexport function sum(nums: number[]): number {\n  const length = nums.length;\n  let total = 0;\n\n  for (let i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n  return total;\n}\n\n/**\n* Average all numbers.\n* @function\n* @memberof Utils\n*/\nexport function average(nums: number[]) {\n  const length = nums.length;\n  let total = 0;\n\n  for (let i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n  return length ? total / length : 0;\n}\n/**\n* Get the angle of two points. (0 <= rad < 359)\n* @function\n* @memberof Utils\n*/\nexport function getRad(pos1: number[], pos2: number[]): number {\n  const distX = pos2[0] - pos1[0];\n  const distY = pos2[1] - pos1[1];\n  const rad = Math.atan2(distY, distX);\n\n  return rad >= 0 ? rad : rad + Math.PI * 2;\n}\n/**\n* Get the average point of all points.\n* @function\n* @memberof Utils\n*/\nexport function getCenterPoint(points: number[][]): number[] {\n  return [0, 1].map(i => average(points.map(pos => pos[i])));\n}\n/**\n* Gets the direction of the shape.\n* @function\n* @memberof Utils\n*/\nexport function getShapeDirection(points: number[][]): 1 | -1 {\n  const center = getCenterPoint(points);\n  const pos1Rad = getRad(center, points[0]);\n  const pos2Rad = getRad(center, points[1]);\n\n  return (pos1Rad < pos2Rad && pos2Rad - pos1Rad < Math.PI) || (pos1Rad > pos2Rad && pos2Rad - pos1Rad < -Math.PI)\n    ? 1 : -1;\n}\n\n/**\n* Get the distance between two points.\n* @function\n* @memberof Utils\n*/\nexport function getDist(a: number[], b?: number[]) {\n  return Math.sqrt(Math.pow((b ? b[0] : 0) - a[0], 2) + Math.pow((b ? b[1] : 0) - a[1], 2));\n}\n\n/**\n* throttle number depending on the unit.\n* @function\n* @memberof Utils\n*/\nexport function throttle(num: number, unit?: number) {\n  if (!unit) {\n    return num;\n  }\n  const reverseUnit = 1 / unit;\n  return Math.round(num / unit) / reverseUnit;\n}\n\n/**\n* throttle number array depending on the unit.\n* @function\n* @memberof Utils\n*/\nexport function throttleArray(nums: number[], unit?: number) {\n  nums.forEach((_, i) => {\n    nums[i] = throttle(nums[i], unit);\n  });\n  return nums;\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function counter(num: number): number[] {\n  const nums: number[] = [];\n\n  for (let i = 0; i < num; ++i) {\n    nums.push(i);\n  }\n\n  return nums;\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function replaceOnce(text: string, fromText: RegExp | string, toText: string | ((...args: any[]) => string)): string {\n  let isOnce = false;\n  return text.replace(fromText, (...args: any[]) => {\n    if (isOnce) {\n      return args[0];\n    }\n    isOnce = true;\n    return isString(toText) ? toText : toText(...args);\n  });\n}\n\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function flat<Type>(arr: Type[][]): Type[] {\n  return arr.reduce((prev, cur) => {\n    return prev.concat(cur);\n  }, []);\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function deepFlat<T extends any[]>(arr: T): Array<FlattedElement<T[0]>> {\n  return arr.reduce((prev, cur) => {\n    if (isArray(cur)) {\n      prev.push(...deepFlat(cur));\n    } else {\n      prev.push(cur);\n    }\n    return prev;\n  }, [] as any[]);\n}\n\n\n/**\n * @function\n * @memberof Utils\n */\nexport function pushSet<T>(elements: T[], element: T) {\n  if (elements.indexOf(element) === -1) {\n    elements.push(element);\n  }\n}\n","import { RGB, RGBA, HSL, HSLA } from \"./consts\";\nimport { splitBracket, splitComma } from \"./utils\";\n\n/**\n* @namespace\n* @name Color\n*/\n\n/**\n* Remove the # from the hex color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} hex color\n* @example\nimport {cutHex} from \"@daybrush/utils\";\n\nconsole.log(cutHex(\"#000000\")) // \"000000\"\n*/\nexport function cutHex(hex: string) {\n  return hex.replace(\"#\", \"\");\n}\n/**\n* convert hex color to rgb color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} rgb color\n* @example\nimport {hexToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hexToRGBA(\"#00000005\"));\n// [0, 0, 0, 1]\nconsole.log(hexToRGBA(\"#201045\"));\n// [32, 16, 69, 1]\n*/\nexport function hexToRGBA(hex: string): [number, number, number, number] {\n  const h = cutHex(hex);\n  const r = parseInt(h.substring(0, 2), 16);\n  const g = parseInt(h.substring(2, 4), 16);\n  const b = parseInt(h.substring(4, 6), 16);\n  let a = parseInt(h.substring(6, 8), 16) / 255;\n\n  if (isNaN(a)) {\n    a = 1;\n  }\n  return [r, g, b, a];\n}\n\n/**\n* convert 3(or 4)-digit hex color to 6(or 8)-digit hex color.\n* @memberof Color\n* @param {} hex - 3(or 4)-digit hex color\n* @return {} 6(or 8)-digit hex color\n* @example\nimport {toFullHex} from \"@daybrush/utils\";\n\nconsole.log(toFullHex(\"#123\")); // \"#112233\"\nconsole.log(toFullHex(\"#123a\")); // \"#112233aa\"\n*/\nexport function toFullHex(h: string): string {\n  const r = h.charAt(1);\n  const g = h.charAt(2);\n  const b = h.charAt(3);\n  const a = h.charAt(4);\n  const arr = [\"#\", r, r, g, g, b, b, a, a];\n\n  return arr.join(\"\");\n}\n/**\n* convert hsl color to rgba color.\n* @memberof Color\n* @param {} hsl - hsl color(hue: 0 ~ 360, saturation: 0 ~ 1, lightness: 0 ~ 1, alpha: 0 ~ 1)\n* @return {} rgba color\n* @example\nimport {hslToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hslToRGBA([150, 0.5, 0.4]));\n// [51, 153, 102, 1]\n*/\nexport function hslToRGBA(hsl: readonly [number, number, number, number?]): [number, number, number, number] {\n  let h = hsl[0];\n  const s = hsl[1];\n  const l = hsl[2];\n\n  if (h < 0) {\n    h +=  Math.floor((Math.abs(h) + 360) / 360) * 360;\n  }\n  h %= 360;\n\n  const c = (1 - Math.abs(2 * l - 1)) * s;\n  const x = c * (1 - Math.abs((h / 60) % 2 - 1));\n  const m = l - c / 2;\n  let rgb: [number, number, number];\n\n  if (h < 60) {\n    rgb = [c, x, 0];\n  } else if (h < 120) {\n    rgb = [x, c, 0];\n  } else if (h < 180) {\n    rgb = [0, c, x];\n  } else if (h < 240) {\n    rgb = [0, x, c];\n  } else if (h < 300) {\n    rgb = [x, 0, c];\n  } else if (h < 360) {\n    rgb = [c, 0, x];\n  } else {\n    rgb = [0, 0, 0];\n  }\n\n  return [\n    Math.round((rgb[0] + m) * 255),\n    Math.round((rgb[1] + m) * 255),\n    Math.round((rgb[2] + m) * 255),\n    hsl[3] ?? 1,\n  ];\n}\n/**\n* convert string to rgba color.\n* @memberof Color\n* @param {} - 3-hex(#000), 4-hex(#0000) 6-hex(#000000), 8-hex(#00000000) or RGB(A), or HSL(A)\n* @return {} rgba color\n* @example\nimport {stringToRGBA} from \"@daybrush/utils\";\n\nconsole.log(stringToRGBA(\"#000000\")); // [0, 0, 0, 1]\nconsole.log(stringToRGBA(\"rgb(100, 100, 100)\")); // [100, 100, 100, 1]\nconsole.log(stringToRGBA(\"hsl(150, 0.5, 0.4)\")); // [51, 153, 102, 1]\n*/\nexport function stringToRGBA(color: string): [number, number, number, number] {\n  if (color.charAt(0) === \"#\") {\n    if (color.length === 4 || color.length === 5) {\n      return hexToRGBA(toFullHex(color));\n    } else {\n      return hexToRGBA(color);\n    }\n  } else if (color.indexOf(\"(\") !== -1) {\n    // in bracket.\n    const {prefix, value} = splitBracket(color);\n\n    if (!prefix || !value) {\n      return undefined as never;\n    }\n    const arr = splitComma(value);\n    const colorArr: [number, number, number, number] = [0, 0, 0, 1];\n    const length = arr.length;\n\n    switch (prefix) {\n      case RGB:\n      case RGBA:\n        for (let i = 0; i < length; ++i) {\n          colorArr[i] = parseFloat(arr[i]);\n        }\n        return colorArr;\n      case HSL:\n      case HSLA:\n        for (let i = 0; i < length; ++i) {\n          if (arr[i].indexOf(\"%\") !== -1) {\n            colorArr[i] = parseFloat(arr[i]) / 100;\n          } else {\n            colorArr[i] = parseFloat(arr[i]);\n          }\n        }\n        // hsl, hsla to rgba\n        return hslToRGBA(colorArr);\n    }\n  }\n  return undefined as never;\n}\n","import { document } from \"./consts\";\nimport { IObject, IEventMap } from \"./types\";\nimport { isObject } from \"./utils\";\n\n/**\n * @namespace DOM\n */\n\nexport function $<K extends keyof HTMLElementTagNameMap>(selectors: K, multi: true):\n  NodeListOf<HTMLElementTagNameMap[K]>;\nexport function $<K extends keyof SVGElementTagNameMap>(selectors: K, multi: true): NodeListOf<SVGElementTagNameMap[K]>;\nexport function $<E extends Element = Element>(selectors: string, multi: true): NodeListOf<E>;\n\nexport function $<K extends keyof HTMLElementTagNameMap>(selectors: K, multi?: false): HTMLElementTagNameMap[K] | null;\nexport function $<K extends keyof SVGElementTagNameMap>(selectors: K, multi?: false): SVGElementTagNameMap[K] | null;\nexport function $<E extends Element = Element>(selectors: string, multi?: false): E | null;\n/**\n * Returns all element descendants of node that\n * match selectors.\n */\n\n/**\n * Checks if the specified class value exists in the element's class attribute.\n * @memberof DOM\n * @param - A DOMString containing one or more selectors to match\n * @param - If multi is true, a DOMString containing one or more selectors to match against.\n * @example\nimport {$} from \"@daybrush/utils\";\n\nconsole.log($(\"div\")); // div element\nconsole.log($(\"div\", true)); // [div, div] elements\n*/\nexport function $<E extends Element = Element>(selectors: string, multi?: boolean): E | NodeListOf<E> | null {\n  if (!document) {\n    return multi ? [] as any : null;\n  }\n  return multi ? document.querySelectorAll<E>(selectors) : document.querySelector<E>(selectors);\n}\n\n/**\n* Checks if the specified class value exists in the element's class attribute.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to search\n* @return {boolean} return false if the class is not found.\n* @example\nimport {hasClass} from \"@daybrush/utils\";\n\nconsole.log(hasClass(element, \"start\")); // true or false\n*/\nexport function hasClass(element: Element, className: string) {\n  if (element.classList) {\n    return element.classList.contains(className);\n  }\n  return !!element.className.match(new RegExp(`(\\\\s|^)${className}(\\\\s|$)`));\n}\n\n/**\n* Add the specified class value. If these classe already exist in the element's class attribute they are ignored.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to add\n* @example\nimport {addClass} from \"@daybrush/utils\";\n\naddClass(element, \"start\");\n*/\nexport function addClass(element: Element, className: string) {\n  if (element.classList) {\n    element.classList.add(className);\n  } else {\n    element.className += ` ${className}`;\n  }\n}\n\n/**\n* Removes the specified class value.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to remove\n* @example\nimport {removeClass} from \"@daybrush/utils\";\n\nremoveClass(element, \"start\");\n*/\nexport function removeClass(element: Element, className: string) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else {\n    const reg = new RegExp(`(\\\\s|^)${className}(\\\\s|$)`);\n\n    element.className = element.className.replace(reg, \" \");\n  }\n}\n\n/**\n* Gets the CSS properties from the element.\n* @memberof DOM\n* @param elements - elements\n* @param properites - the CSS properties\n* @return returns CSS properties and values.\n* @example\nimport {fromCSS} from \"@daybrush/utils\";\n\nconsole.log(fromCSS(element, [\"left\", \"opacity\", \"top\"])); // {\"left\": \"10px\", \"opacity\": 1, \"top\": \"10px\"}\n*/\nexport function fromCSS(\n  elements: Element | Element[] | NodeListOf<Element>, properties: string[]): IObject<any> {\n  if (!elements || !properties || !properties.length) {\n    return {};\n  }\n  let element;\n\n  if (elements instanceof Element) {\n    element = elements;\n  } else if (elements.length) {\n    element = elements[0];\n  } else {\n    return {};\n  }\n  const cssObject: IObject<any> = {};\n  const styles = getWindow(element).getComputedStyle(element) as any;\n  const length = properties.length;\n\n  for (let i = 0; i < length; ++i) {\n    cssObject[properties[i]] = styles[properties[i]];\n  }\n  return cssObject;\n}\n\nexport function addEvent<K extends keyof IEventMap>(\n  el: EventTarget, type: K, listener: (e: IEventMap[K]) => void, options?: boolean | AddEventListenerOptions): void;\n/**\n* Sets up a function that will be called whenever the specified event is delivered to the target\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The object which receives a notification (an object that implements the Event interface) when an event of the specified type occurs\n* @param - An options object that specifies characteristics about the event listener.\n* @example\nimport {addEvent} from \"@daybrush/utils\";\n\naddEvent(el, \"click\", e => {\n  console.log(e);\n});\n*/\nexport function addEvent(\n  el: EventTarget,\n  type: string, listener: (e: Event) => void,\n  options?: boolean | AddEventListenerOptions) {\n  el.addEventListener(type, listener, options);\n}\n\nexport function removeEvent<K extends keyof IEventMap>(\n  el: EventTarget, type: K, listener: (e: IEventMap[K]) => void, options?: boolean | EventListenerOptions): void;\n/**\n* removes from the EventTarget an event listener previously registered with EventTarget.addEventListener()\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The EventListener function of the event handler to remove from the event target.\n* @param - An options object that specifies characteristics about the event listener.\n* @example\nimport {addEvent, removeEvent} from \"@daybrush/utils\";\nconst listener = e => {\n  console.log(e);\n};\naddEvent(el, \"click\", listener);\nremoveEvent(el, \"click\", listener);\n*/\nexport function removeEvent(\n  el: EventTarget, type: string,\n  listener: (e: Event) => void,\n  options?: boolean | EventListenerOptions,\n) {\n  el.removeEventListener(type, listener, options);\n}\n\n\nexport function getDocument(el?: Node) {\n  return el?.ownerDocument || document;\n}\n\nexport function getDocumentElement(el?: Node) {\n  return getDocument(el).documentElement;\n}\n\nexport function getDocumentBody(el?: Node) {\n  return getDocument(el).body;\n}\n\nexport function getWindow(el?: Node) {\n  return el?.ownerDocument?.defaultView || window;\n}\n\n\nexport function isWindow(val: any): val is Window {\n  return val && \"postMessage\" in val && \"blur\" in val && \"self\" in val;\n}\n\nexport function isNode(el?: any): el is Node {\n  return isObject(el) && el.nodeName && el.nodeType && \"ownerDocument\" in el;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}